@import 'tailwindcss';
@import 'tw-animate-css';

/* Tailwind v4 dark variant helper (harmless here) */
@custom-variant dark (&:is(.dark *));

/* -----------------------------
   Core palette - DARK PRIMARY
   ----------------------------- */
:root {
  /* Dark palette */
  --bg:      #111315;             /* page backdrop */
  --surf1:   #161a1d;             /* primary cards */
  --surf2:   #1b1f23;             /* secondary cards */
  --surf3:   #22272b;             /* elevated panels */
  --border:  rgba(255,255,255,0.08);
  --heading: #f0f3f5;
  --muted:   rgba(225,228,232,0.72);
  --accent:  #66e0c2;             /* muted teal */

  /* Semantic tokens mapped to our palette (for shadcn-style utilities) */
  --background:           var(--bg);
  --foreground:           var(--heading);
  --card:                 var(--surf1);
  --card-foreground:      var(--heading);
  --popover:              var(--surf1);
  --popover-foreground:   var(--heading);
  --primary:              var(--accent);
  --primary-foreground:   #ffffff;
  --secondary:            var(--surf2);
  --secondary-foreground: var(--heading);

  /* "muted" pair for components (avoid name clash with our color var) */
  --muted-bg:             var(--surf2);
  --muted-foreground:     var(--muted);

  --accent-bg:            rgba(102,224,194,0.12);
  --accent-foreground:    var(--heading);

  --destructive:          #f87171;
  --destructive-foreground:#111315;

  --input:                rgba(255,255,255,0.12);
  --ring:                 rgba(102,224,194,0.45);

  /* charts */
  --chart-1: #66e0c2;
  --chart-2: #7aa2ff;
  --chart-3: #f7b267;
  --chart-4: #d48bff;
  --chart-5: #ff8aa6;

  --radius: 0.625rem;

  /* Sidebar tokens (if any) */
  --sidebar:                     var(--surf1);
  --sidebar-foreground:          var(--heading);
  --sidebar-primary:             var(--accent);
  --sidebar-primary-foreground:  #ffffff;
  --sidebar-accent:              var(--surf2);
  --sidebar-accent-foreground:   var(--heading);
  --sidebar-border:              var(--border);
  --sidebar-ring:                var(--ring);
}

/* Smooth anchor scrolling */
html { scroll-behavior: smooth; }

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Readable defaults */
@layer base {
  * { @apply border-border outline-ring/50; }

  body {
    background-color: var(--background);
    color: var(--foreground);
    position: relative;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    font-feature-settings: "liga", "kern";
  }

  body::before {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: -2;
    background:
      radial-gradient(720px circle at 18% -5%, rgba(255,255,255,0.12), transparent 70%),
      radial-gradient(580px circle at 82% 10%, rgba(102,224,194,0.16), transparent 75%),
      radial-gradient(900px circle at 50% 100%, rgba(90,114,154,0.12), transparent 70%);
    opacity: 0.9;
  }

  body::after {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: -3;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23n)' opacity='0.035'/%3E%3C/svg%3E");
    background-size: 360px 360px;
    mix-blend-mode: soft-light;
  }

  h1,h2,h3,h4,h5,h6 { color: var(--heading); }
  p, li, small      { color: var(--muted); }
  a                 { color: var(--accent); }
}

/* Helpers for consistent panels/chips */
@layer components {
  .panel {
    @apply rounded-2xl border border-[color:var(--border)] bg-[color:var(--surf1)] p-6;
  }
  .panel-alt {
    @apply rounded-2xl border border-[color:var(--border)] bg-[color:var(--surf2)] p-6;
  }
  .chip {
    @apply inline-flex items-center gap-1 rounded-full border border-[color:var(--border)] bg-[color:var(--surf3)] px-3 py-1.5 text-sm;
    color: var(--muted);
  }
}

/* Print */
@media print {
  nav, .no-print { display: none !important; }
  body { background: white !important; color: #111 !important; }
  a[href]:after { content: " (" attr(href) ")"; font-size: 10px; }
}
